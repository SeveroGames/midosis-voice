version: "3.1"

intents:
  - saludar
  - despedir
  - afirmar
  - negar
  - agradecer
  - preguntar_medicamento
  - confirmar_toma
  - programar_recordatorio
  - consultar_horario
  - emergencia
  - ayuda
  - fuera_tema
  - mi_dosis_agregar
  - mi_dosis_listar
  - mi_dosis_eliminar

entities:
  - medicamento
  - dosis
  - hora
  - frecuencia
  - intervalo
  - duracion
  - accion

# SIMPLIFICAR slots - Solo los esenciales
slots:
  medicamento:
    type: text
    initial_value: null
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: medicamento

  hora_recordatorio:
    type: text
    initial_value: null
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: hora

# ELIMINAR slots complejos que causan conflictos
# RASA los manejarÃ¡ temporalmente en la conversaciÃ³n

responses:
  utter_saludar:
    - text: "Â¡Hola! Soy tu asistente 'Mi Dosis'. Â¿En quÃ© puedo ayudarte?"
    - text: "Â¡Hola! Estoy aquÃ­ para ayudarte con tus medicamentos."

  utter_despedir:
    - text: "Â¡AdiÃ³s! Recuerda tomar tus medicamentos a tiempo."
    - text: "Hasta luego. CuÃ­date mucho."

  utter_agradecer:
    - text: "Â¡De nada! Es un placer ayudarte."

  utter_mi_dosis_agregar:
    - text: "âœ… Perfecto, agregando {medicamento}."

  utter_mi_dosis_listar:
    - text: "ğŸ“‹ Estos son tus medicamentos: [lista generada por la acciÃ³n]"

  utter_mi_dosis_eliminar:
    - text: "ğŸ—‘ï¸ Eliminando {medicamento}."

  utter_pedir_hora:
    - text: "Â¿A quÃ© hora deseas tomar {medicamento}?"
    - text: "Â¿En quÃ© horario prefieres la toma de {medicamento}?"

  utter_pedir_frecuencia:
    - text: "Â¿Con quÃ© frecuencia? (diario, cada 8 horas, cada 12 horas)"
    - text: "Â¿Cada cuÃ¡nto tiempo debe tomarse?"

  utter_pedir_duracion:
    - text: "Â¿Por cuÃ¡ntos dÃ­as/semanas?"

  utter_programar_recordatorio:
    - text: "Recordatorio programado para {medicamento} a las {hora_recordatorio}."

  utter_consultar_horario:
    - text: "{medicamento} se toma segÃºn lo indicado por tu mÃ©dico."

  utter_preguntar_medicamento:
    - text: "{medicamento} es un medicamento que debe usarse bajo supervisiÃ³n mÃ©dica."

  utter_confirmar_toma:
    - text: "Â¿Ya tomaste tu medicamento hoy?"

  utter_emergencia:
    - text: "Â¡Esta es una emergencia! Contacta a tu mÃ©dico o llama al 911."

  utter_ayuda:
    - text: "Puedo ayudarte a: agregar, listar o eliminar medicamentos con 'Mi Dosis'."

  utter_fuera_tema:
    - text: "Solo puedo ayudarte con temas de medicamentos."

  utter_default:
    - text: "Lo siento, no entendÃ­. Â¿PodrÃ­as repetir?"
    - text: "No estoy seguro de entender."

actions:
  - action_verificar_toma
  - action_programar_recordatorio
  - action_consultar_medicamento
  - action_emergencia
  - action_mi_dosis_agregar
  - action_mi_dosis_listar
  - action_mi_dosis_eliminar

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: false 